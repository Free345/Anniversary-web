<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6 Months Anniversary - Haidar & Naura</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* OVERLAY START */
        #overlay-start {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, #fff0f5 0%, #ffe4e1 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 1s ease-out;
        }
        
        .overlay-content {
            text-align: center;
            padding: 20px;
        }
        
        .overlay-content h1 {
            font-size: 3rem;
            color: #d88195;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
        }
        
        .overlay-content p {
            font-size: 1.2rem;
            color: #886f6f;
            margin-bottom: 20px;
        }
        
        .start-btn {
            background: #ec4899;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(236, 72, 153, 0.4);
            transition: transform 0.2s;
        }
        
        .start-btn:hover {
            transform: scale(1.1);
            background: #db2777;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
    </style>
</head>
<body>
    <!-- OVERLAY START -->
    <div id="overlay-start">
        <div class="overlay-content">
            <h1>Hai SayanG! ‚ù§Ô∏è</h1>
            <p>Ada sesuatu spesial buat kamu...</p>
            <button class="start-btn" onclick="startJourney()">Buka Sekarang üíå</button>
        </div>
    </div>

    <div id="root"></div>

    <script>
        // START JOURNEY FUNCTION
        function startJourney() {
            const overlay = document.getElementById('overlay-start');
            const audio = document.getElementById('bg-audio');
            
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
            }, 1000);

            // Try to play music (if audio element exists)
            if (audio) {
                audio.play().catch(err => {
                    console.log("Autoplay prevented by browser");
                });
            }
        }
    </script>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Lucide Icons as SVG components
        const Heart = ({ className }) => (
            <svg className={className} fill="currentColor" viewBox="0 0 20 20">
                <path fillRule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clipRule="evenodd" />
            </svg>
        );

        const MapPin = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
        );

        const MessageCircle = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
            </svg>
        );

        const Book = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
        );

        const Sparkles = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
            </svg>
        );

        function AnniversaryWebsite() {
            const [activeSection, setActiveSection] = useState('home');
            const [timeElapsed, setTimeElapsed] = useState({ months: 0, days: 0, hours: 0, minutes: 0, seconds: 0 });
            const [isEnvelopeOpen, setIsEnvelopeOpen] = useState(false);
            const [isPlaying, setIsPlaying] = useState(true);
            const [volume, setVolume] = useState(0.7);
            const [currentPage, setCurrentPage] = useState(0);
            const [showPhotoboothPrompt, setShowPhotoboothPrompt] = useState(false);
            const [capturedImages, setCapturedImages] = useState([]);
            const [isCapturing, setIsCapturing] = useState(false);
            const [countdown, setCountdown] = useState(null);
            const [selectedFrame, setSelectedFrame] = useState('hearts');
            const [selectedFilter, setSelectedFilter] = useState('none');
            const [selectedStickers, setSelectedStickers] = useState([]);
            const [showPreview, setShowPreview] = useState(false);
            const videoRef = useRef(null);
            const canvasRef = useRef(null);
            const audioRef = useRef(null);

            const anniversaryDate = new Date('2025-08-27');
            const totalPages = 7;

            const [progress, setProgress] = useState(0);
            const [duration, setDuration] = useState(0);


            // Frame options
            const frames = {
                hearts: { name: '‚ù§Ô∏è Hearts', color: 'pink' },
                polaroid: { name: 'üì∑ Polaroid', color: 'white' },
                vintage: { name: 'üå∏ Vintage', color: 'sepia' },
                rainbow: { name: 'üåà Rainbow', color: 'rainbow' },
                stars: { name: '‚≠ê Stars', color: 'gold' }
            };

            // Filter options
            const filters = {
                none: 'Normal',
                warm: 'Warm üåÖ',
                cool: 'Cool üåä',
                vintage: 'Vintage üì∑',
                bw: 'B&W üé¨'
            };

            // Sticker options
            const availableStickers = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üå∏', 'üå∫', 'ü¶ã', '‚≠ê', '‚ú®', 'üéÄ', 'üíù', 'üåπ', '‚òÅÔ∏è'];

            const handleVolumeChange = (e) => {
                const newVolume = parseFloat(e.target.value);
                setVolume(newVolume);
                if (audioRef.current) {
                    audioRef.current.volume = newVolume;
                }
            };

            // Auto-play music on load
            useEffect(() => {
                if (audioRef.current) {
                    audioRef.current.volume = volume;
                    // Don't auto-play here, wait for startJourney
                }
            }, []);

            // Start Journey function
            const startJourney = () => {
                const overlay = document.getElementById('overlay-start');
                overlay.style.opacity = '0';
                setTimeout(() => {
                    overlay.style.display = 'none';
                }, 1000);

                // Start music after user interaction
                if (audioRef.current) {
                    audioRef.current.play().catch(err => {
                        console.log('Autoplay prevented:', err);
                    });
                }
            };

            // Expose startJourney to window for onclick
            useEffect(() => {
                window.startJourney = startJourney;
            }, []);

            const nextPage = () => {
                if (currentPage < totalPages - 1) {
                    setCurrentPage(currentPage + 1);
                }
            };

            const resetBook = () => {
                setCurrentPage(0);
            };

            useEffect(() => {
                const calculateTime = () => {
                    const now = new Date();
                    const start = new Date('2025-08-27'); // 27 Agustus 2024
                    const diff = now - start;
                    
                    // Calculate accurate time differences
                    const totalSeconds = Math.floor(diff / 1000);
                    const totalMinutes = Math.floor(totalSeconds / 60);
                    const totalHours = Math.floor(totalMinutes / 60);
                    const totalDays = Math.floor(totalHours / 24);
                    
                    // Calculate months accurately
                    const yearDiff = now.getFullYear() - start.getFullYear();
                    const monthDiff = now.getMonth() - start.getMonth();
                    let months = yearDiff * 12 + monthDiff;
                    
                    // If current day is before start day, subtract 1 month
                    if (now.getDate() < start.getDate()) {
                        months--;
                    }
                    
                    // Add 1 to show 6 months instead of 5 (your counting style)
                    months = months + 1;
                    
                    // Calculate remaining days
                    const startOfCurrentMonth = new Date(start);
                    startOfCurrentMonth.setMonth(start.getMonth() + (months - 1));
                    const remainingMs = now - startOfCurrentMonth;
                    const remainingDays = Math.floor(remainingMs / (1000 * 60 * 60 * 24));

                    setTimeElapsed({
                        months: months,
                        days: remainingDays,
                        hours: totalHours % 24,
                        minutes: totalMinutes % 60,
                        seconds: totalSeconds % 60
                    });
                };

                calculateTime();
                const interval = setInterval(calculateTime, 1000);
                return () => clearInterval(interval);
            }, []);


            useEffect(() => {
    const audio = audioRef.current;
    if (!audio) return;

    const updateProgress = () => {
        const percent = (audio.currentTime / audio.duration) * 100;
        setProgress(percent || 0);
    };

    const setAudioDuration = () => {
        setDuration(audio.duration);
    };

    audio.addEventListener("timeupdate", updateProgress);
    audio.addEventListener("loadedmetadata", setAudioDuration);

    return () => {
        audio.removeEventListener("timeupdate", updateProgress);
        audio.removeEventListener("loadedmetadata", setAudioDuration);
    };
}, []);


            // Rain of Memories effect
            useEffect(() => {
                if (isEnvelopeOpen) {
                    const createRainDrop = () => {
                        const rainContainer = document.getElementById('rain-container');
                        if (!rainContainer) return;
                        
                        const photos = [
                            'rain1.jpeg',
                            'rain2.jpeg',
                            'rain3.jpeg',
                            'rain4.jpeg',
                            'rain5.jpeg'
                        ];
                        
                        const drop = document.createElement('img');
                        drop.className = 'rain-drop-item';
                        drop.src = photos[Math.floor(Math.random() * photos.length)];
                        drop.style.position = 'absolute';
                        drop.style.left = Math.random() * 100 + '%';
                        drop.style.width = (Math.random() * 60 + 40) + 'px';
                        drop.style.height = (Math.random() * 60 + 40) + 'px';
                        drop.style.objectFit = 'cover';
                        drop.style.borderRadius = '10px';
                        drop.style.animationDuration = (Math.random() * 3 + 4) + 's';
                        drop.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
                        
                        rainContainer.appendChild(drop);
                        
                        setTimeout(() => {
                            drop.remove();
                        }, 7000);
                    };

                    const rainInterval = setInterval(createRainDrop, 500);
                    
                    return () => clearInterval(rainInterval);
                }
            }, [isEnvelopeOpen]);

            useEffect(() => {
                if (isEnvelopeOpen === false && activeSection === 'messages') {
                    // Only show prompt after letter was opened and then closed
                    const hasOpenedLetter = sessionStorage.getItem('hasOpenedLetter');
                    if (hasOpenedLetter === 'true') {
                        const timer = setTimeout(() => {
                            setShowPhotoboothPrompt(true);
                            sessionStorage.removeItem('hasOpenedLetter');
                        }, 1000);
                        return () => clearTimeout(timer);
                    }
                }
                if (isEnvelopeOpen === true) {
                    sessionStorage.setItem('hasOpenedLetter', 'true');
                }
            }, [isEnvelopeOpen, activeSection]);

            // Control music based on active section
useEffect(() => {
    if (!audioRef.current) return;

    if (activeSection === 'photobooth') {
        audioRef.current.pause();
    } else {
        audioRef.current.play().catch(() => {});
    }
}, [activeSection]);

useEffect(() => {
    const audio = audioRef.current;
    if (!audio) return;

    const onPlay = () => setIsPlaying(true);
    const onPause = () => setIsPlaying(false);

    audio.addEventListener("play", onPlay);
    audio.addEventListener("pause", onPause);

    return () => {
        audio.removeEventListener("play", onPlay);
        audio.removeEventListener("pause", onPause);
    };
}, []);



            // Photobooth functions
            const startPhotoSession = async () => {
                setCapturedImages([]);
                setIsCapturing(true);
                setShowPhotoboothPrompt(false);
                
                // If camera not already started, start it
                if (!videoRef.current || !videoRef.current.srcObject) {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' } });
                        if (videoRef.current) {
                            videoRef.current.srcObject = stream;
                        }
                    } catch (err) {
                        alert('Gagal akses kamera. Izinkan dulu ya!');
                        setIsCapturing(false);
                        return;
                    }
                }
                
                setTimeout(() => takeSequence(4), 1000);
            };

            const openPhotobooth = async () => {
                setShowPhotoboothPrompt(false);
                setActiveSection('photobooth');
                setShowPreview(true);
                
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' } });
                    if (videoRef.current) {
                        videoRef.current.srcObject = stream;
                    }
                } catch (err) {
                    alert('Gagal akses kamera. Izinkan dulu ya!');
                    setShowPreview(false);
                }
            };

            const takeSequence = (count) => {
                if (count > 0) {
                    runCountdown(3, () => {
                        captureSingleFrame();
                        takeSequence(count - 1);
                    });
                } else {
                    finishSession();
                }
            };

            const runCountdown = (seconds, callback) => {
                setCountdown(seconds);
                const interval = setInterval(() => {
                    seconds--;
                    if (seconds > 0) {
                        setCountdown(seconds);
                    } else {
                        clearInterval(interval);
                        setCountdown(null);
                        callback();
                    }
                }, 1000);
            };

            const captureSingleFrame = () => {
                if (!videoRef.current) return;
                
                const video = videoRef.current;
                const canvas = document.createElement('canvas');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                const ctx = canvas.getContext('2d');
                
                ctx.translate(canvas.width, 0);
                ctx.scale(-1, 1);
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                
                // Apply filter
                if (selectedFilter !== 'none') {
                    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    const data = imageData.data;
                    
                    if (selectedFilter === 'warm') {
                        for (let i = 0; i < data.length; i += 4) {
                            data[i] = Math.min(255, data[i] + 30);
                            data[i + 2] = Math.max(0, data[i + 2] - 20);
                        }
                    } else if (selectedFilter === 'cool') {
                        for (let i = 0; i < data.length; i += 4) {
                            data[i] = Math.max(0, data[i] - 20);
                            data[i + 2] = Math.min(255, data[i + 2] + 30);
                        }
                    } else if (selectedFilter === 'vintage') {
                        for (let i = 0; i < data.length; i += 4) {
                            const r = data[i];
                            const g = data[i + 1];
                            const b = data[i + 2];
                            data[i] = r * 0.9 + g * 0.5 + b * 0.1;
                            data[i + 1] = r * 0.3 + g * 0.8 + b * 0.1;
                            data[i + 2] = r * 0.2 + g * 0.3 + b * 0.5;
                        }
                    } else if (selectedFilter === 'bw') {
                        for (let i = 0; i < data.length; i += 4) {
                            const avg = (data[i] + data[i + 1] + data[i + 2]) / 3;
                            data[i] = data[i + 1] = data[i + 2] = avg;
                        }
                    }
                    
                    ctx.putImageData(imageData, 0, 0);
                }
                
                const dataUrl = canvas.toDataURL('image/png');
                setCapturedImages(prev => [...prev, dataUrl]);
            };

            const finishSession = () => {
                if (videoRef.current && videoRef.current.srcObject) {
                    videoRef.current.srcObject.getTracks().forEach(track => track.stop());
                }
                setIsCapturing(false);
            };

            const resetCamera = async () => {
                setCapturedImages([]);
                setSelectedStickers([]);
                setShowPreview(true);
                setIsCapturing(false);
                
                // Restart camera if needed
                if (!videoRef.current || !videoRef.current.srcObject) {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' } });
                        if (videoRef.current) {
                            videoRef.current.srcObject = stream;
                        }
                    } catch (err) {
                        alert('Gagal akses kamera. Izinkan dulu ya!');
                    }
                }
            };

            const toggleSticker = (sticker) => {
                setSelectedStickers(prev => {
                    if (prev.includes(sticker)) {
                        return prev.filter(s => s !== sticker);
                    } else {
                        return [...prev, sticker];
                    }
                });
            };

            const downloadCollage = () => {
                if (!canvasRef.current || capturedImages.length !== 4) return;
                
                const canvas = canvasRef.current;
                const w = 600;
                const h = 450;
                const gap = 20;
                const border = 80;
                const footer = 300;
                
                canvas.width = (w * 2) + gap + (border * 2);
                canvas.height = (h * 2) + gap + (border * 2) + footer;
                
                const ctx = canvas.getContext('2d');
                
                // Background with gradient
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                gradient.addColorStop(0, '#fecdd3');
                gradient.addColorStop(1, '#fda4af');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Draw decorative elements based on frame
                if (selectedFrame === 'hearts') {
                    ctx.font = '30px Arial';
                    for (let i = 0; i < 20; i++) {
                        const x = Math.random() * canvas.width;
                        const y = Math.random() * canvas.height;
                        ctx.fillText('‚ù§Ô∏è', x, y);
                    }
                } else if (selectedFrame === 'stars') {
                    ctx.font = '25px Arial';
                    for (let i = 0; i < 30; i++) {
                        const x = Math.random() * canvas.width;
                        const y = Math.random() * canvas.height;
                        ctx.fillText('‚≠ê', x, y);
                    }
                }
                
                let loaded = 0;
                capturedImages.forEach((src, i) => {
                    const img = new Image();
                    img.onload = () => {
                        const col = i % 2;
                        const row = Math.floor(i / 2);
                        const x = border + (col * (w + gap));
                        const y = border + (row * (h + gap));
                        
                        // Draw white background for polaroid effect
                        if (selectedFrame === 'polaroid') {
                            ctx.fillStyle = 'white';
                            ctx.fillRect(x - 10, y - 10, w + 20, h + 80);
                            ctx.drawImage(img, x, y, w, h);
                            
                            ctx.font = 'italic 20px Arial';
                            ctx.fillStyle = '#666';
                            ctx.textAlign = 'center';
                            ctx.fillText(`Pose ${i + 1}`, x + w/2, y + h + 50);
                        } else {
                            ctx.drawImage(img, x, y, w, h);
                            
                            if (selectedFrame === 'rainbow') {
                                const rainbow = ctx.createLinearGradient(x, y, x + w, y + h);
                                rainbow.addColorStop(0, '#ff0000');
                                rainbow.addColorStop(0.2, '#ff7f00');
                                rainbow.addColorStop(0.4, '#ffff00');
                                rainbow.addColorStop(0.6, '#00ff00');
                                rainbow.addColorStop(0.8, '#0000ff');
                                rainbow.addColorStop(1, '#8b00ff');
                                ctx.strokeStyle = rainbow;
                                ctx.lineWidth = 8;
                            } else if (selectedFrame === 'vintage') {
                                ctx.strokeStyle = '#8b4513';
                                ctx.lineWidth = 12;
                            } else {
                                ctx.strokeStyle = '#fff';
                                ctx.lineWidth = 6;
                            }
                            
                            ctx.strokeRect(x, y, w, h);
                        }
                        
                        // Draw stickers
                        selectedStickers.forEach((sticker, idx) => {
                            ctx.font = '50px Arial';
                            ctx.textAlign = 'left';
                            const stickerX = x + (idx % 3) * 200 + 50;
                            const stickerY = y + Math.floor(idx / 3) * 150 + 80;
                            ctx.fillText(sticker, stickerX, stickerY);
                        });
                        
                        loaded++;
                        if (loaded === 4) {
                            // Title
                            ctx.font = 'bold 70px Arial';
                            ctx.fillStyle = '#fff';
                            ctx.strokeStyle = '#be123c';
                            ctx.lineWidth = 3;
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.strokeText('6 Months Anniversary', canvas.width / 2, canvas.height - (footer / 1.5));
                            ctx.fillText('6 Months Anniversary', canvas.width / 2, canvas.height - (footer / 1.5));
                            
                            // Hearts decoration
                            ctx.font = '40px Arial';
                            ctx.fillText('üíï', canvas.width / 2 - 250, canvas.height - (footer / 1.5));
                            ctx.fillText('üíï', canvas.width / 2 + 250, canvas.height - (footer / 1.5));
                            
                            // Date
                            ctx.font = '35px Arial';
                            ctx.fillStyle = '#fff';
                            ctx.strokeStyle = '#be123c';
                            ctx.lineWidth = 2;
                            ctx.strokeText(new Date().toLocaleDateString(), canvas.width / 2, canvas.height - (footer / 1.5) + 70);
                            ctx.fillText(new Date().toLocaleDateString(), canvas.width / 2, canvas.height - (footer / 1.5) + 70);
                            
                            // Names
                            ctx.font = 'italic 30px Arial';
                            ctx.fillStyle = '#fff';
                            ctx.strokeStyle = '#be123c';
                            ctx.strokeText('Haidar ‚ù§Ô∏è Naura', canvas.width / 2, canvas.height - (footer / 1.5) + 120);
                            ctx.fillText('Haidar ‚ù§Ô∏è Naura', canvas.width / 2, canvas.height - (footer / 1.5) + 120);
                            
                            const link = document.createElement('a');
                            link.download = 'our-photobooth.png';
                            link.href = canvas.toDataURL('image/png');
                            link.click();
                        }
                    };
                    img.src = src;
                });
            };

            const getFilterStyle = () => {
                switch(selectedFilter) {
                    case 'warm': return 'sepia(0.3) saturate(1.4) hue-rotate(-10deg)';
                    case 'cool': return 'saturate(1.2) hue-rotate(10deg) brightness(1.1)';
                    case 'vintage': return 'sepia(0.5) contrast(1.2) brightness(0.9)';
                    case 'bw': return 'grayscale(1) contrast(1.1)';
                    default: return 'none';
                }
            };

            const renderHome = () => (
                <div className="min-h-screen flex flex-col items-center justify-center p-8 text-center bg-gradient-to-br from-pink-200 via-pink-100 to-rose-200" style={{backgroundColor: '#FFE6EE'}}>
                    
                    <div className="fixed top-4 right-4 bg-white bg-opacity-90 backdrop-blur-lg rounded-2xl p-4 shadow-2xl max-w-xs z-50">
                        <div className="flex items-center gap-3 mb-3">
                            <div className="relative w-14 h-14 flex-shrink-0 flex items-center justify-center">
                              <div className={`w-14 h-14 rounded-full bg-gradient-to-br from-gray-900 via-gray-800 to-black border-4 border-pink-400 flex items-center justify-center ${isPlaying ? 'spin-disk' : ''}`}>
                             <div className="w-3 h-3 bg-pink-400 rounded-full"></div>
                              </div>
                             </div>

                            <div className="flex-1 text-left min-w-0">
                                <div className="text-pink-900 font-bold text-sm truncate">About You</div>
                                <div className="text-pink-600 text-xs truncate">The 1975</div>
                                <div className="text-pink-500 text-xs mt-1">üéµ Now Playing</div>
                            </div>
                        </div>
                        
                        <div className="flex items-center gap-2">
                            <svg className="w-4 h-4 text-pink-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fillRule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z" clipRule="evenodd" />
                            </svg>
                            <input 
                                type="range" 
                                min="0" 
                                max="1" 
                                step="0.01" 
                                value={volume}
                                onChange={handleVolumeChange}
                                className="flex-1 h-1 bg-pink-200 rounded-lg appearance-none cursor-pointer accent-pink-500"
                            />
                            <svg className="w-5 h-5 text-pink-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fillRule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z" clipRule="evenodd" />
                            </svg>
                        </div>
                        
                        <div className="mt-2 h-1 bg-pink-200 rounded-full overflow-hidden">
                         <div 
                         className="h-full bg-pink-500 rounded-full transition-all duration-200"
                          style={{ width: `${progress}%` }}
                           ></div>
                        </div>

                    </div>
                    
                    <Sparkles className="w-16 h-16 text-pink-600 mb-4 animate-pulse" />
                    <h1 className="text-5xl md:text-7xl font-bold text-pink-900 mb-4">
                        Haidar <Heart className="inline w-12 h-12 text-red-500 animate-pulse" /> Naura
                    </h1>
                    <p className="text-2xl text-pink-700 mb-8">6 Months & Counting...</p>
                    
                    <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-12 max-w-4xl">
                        <div className="bg-white bg-opacity-60 backdrop-blur-lg rounded-lg p-4 shadow-lg">
                            <div className="text-3xl font-bold text-pink-900">{timeElapsed.months}</div>
                            <div className="text-pink-700 text-sm">Months</div>
                        </div>
                        <div className="bg-white bg-opacity-60 backdrop-blur-lg rounded-lg p-4 shadow-lg">
                            <div className="text-3xl font-bold text-pink-900">{timeElapsed.days}</div>
                            <div className="text-pink-700 text-sm">Days</div>
                        </div>
                        <div className="bg-white bg-opacity-60 backdrop-blur-lg rounded-lg p-4 shadow-lg">
                            <div className="text-3xl font-bold text-pink-900">{timeElapsed.hours}</div>
                            <div className="text-pink-700 text-sm">Hours</div>
                        </div>
                        <div className="bg-white bg-opacity-60 backdrop-blur-lg rounded-lg p-4 shadow-lg">
                            <div className="text-3xl font-bold text-pink-900">{timeElapsed.minutes}</div>
                            <div className="text-pink-700 text-sm">Minutes</div>
                        </div>
                        <div className="bg-white bg-opacity-60 backdrop-blur-lg rounded-lg p-4 shadow-lg">
                            <div className="text-3xl font-bold text-pink-900">{timeElapsed.seconds}</div>
                            <div className="text-pink-700 text-sm">Seconds</div>
                        </div>
                    </div>

                    <div className="flex flex-wrap gap-4 justify-center">
                        <button onClick={() => setActiveSection('distance')} className="bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-full transition flex items-center gap-2 shadow-lg">
                            <MapPin className="w-5 h-5" /> Our Distance
                        </button>
                        <button onClick={() => setActiveSection('timeline')} className="bg-rose-500 hover:bg-rose-600 text-white px-6 py-3 rounded-full transition flex items-center gap-2 shadow-lg">
                            <Book className="w-5 h-5" /> Our Story
                        </button>
                        <button onClick={() => setActiveSection('messages')} className="bg-red-400 hover:bg-red-500 text-white px-6 py-3 rounded-full transition flex items-center gap-2 shadow-lg">
                            <MessageCircle className="w-5 h-5" /> Love Letter
                        </button>
                    </div>

                    <style>{`
                        @keyframes progress {
                            0% { width: 0%; }
                            100% { width: 100%; }
                        }
                             from { transform: rotate(0deg); }
                            to { transform: rotate(360deg); }
                                                        }

                                          .spin-disk {
                                      animation: spinDisk 3s linear infinite;
                                }
                        .animate-progress {
                            animation: progress 30s linear infinite;
                        }
                    `}</style>
                </div>
            );

            const renderDistance = () => (
                <div className="min-h-screen flex flex-col items-center justify-center p-8 bg-gradient-to-br from-pink-200 via-pink-100 to-rose-200" style={{backgroundColor: '#FFE6EE'}}>
                    <button onClick={() => setActiveSection('home')} className="absolute top-4 left-4 text-pink-900 hover:text-pink-600 transition font-semibold">
                        ‚Üê Back
                    </button>
                    
                    <MapPin className="w-16 h-16 text-pink-600 mb-6" />
                    <h2 className="text-4xl md:text-5xl font-bold text-pink-900 mb-8">Miles Apart, Hearts Together</h2>
                    
                    <div className="bg-white bg-opacity-70 backdrop-blur-lg rounded-2xl p-8 max-w-4xl w-full shadow-2xl">
                        <div className="relative w-full h-96 bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl mb-6 overflow-hidden border-2 border-pink-200">
                            <div className="absolute inset-0 flex items-center justify-center">
                                <svg className="w-full h-full" viewBox="0 0 800 400" preserveAspectRatio="xMidYMid meet">
                                    <defs>
                                        <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                                            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(236,72,153,0.1)" strokeWidth="1"/>
                                        </pattern>
                                        <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" stopColor="#ec4899" />
                                            <stop offset="50%" stopColor="#f43f5e" />
                                            <stop offset="100%" stopColor="#ec4899" />
                                        </linearGradient>
                                    </defs>
                                    <rect width="800" height="400" fill="url(#grid)" />
                                    
                                    <circle cx="200" cy="200" r="8" fill="#ec4899" className="animate-pulse">
                                        <animate attributeName="r" values="8;12;8" dur="2s" repeatCount="indefinite" />
                                    </circle>
                                    <text x="200" y="235" textAnchor="middle" fill="#831843" fontSize="14" fontWeight="bold">
                                        Bandung
                                    </text>
                                    <text x="200" y="250" textAnchor="middle" fill="#9f1239" fontSize="12">
                                        üèôÔ∏è Haidar
                                    </text>
                                    
                                    <circle cx="600" cy="200" r="8" fill="#ec4899" className="animate-pulse">
                                        <animate attributeName="r" values="8;12;8" dur="2s" repeatCount="indefinite" begin="1s" />
                                    </circle>
                                    <text x="600" y="235" textAnchor="middle" fill="#831843" fontSize="14" fontWeight="bold">
                                        Makassar
                                    </text>
                                    <text x="600" y="250" textAnchor="middle" fill="#9f1239" fontSize="12">
                                        üå¥ Naura
                                    </text>
                                    
                                    <path 
                                        d="M 200 200 Q 400 120, 600 200" 
                                        stroke="url(#lineGradient)" 
                                        strokeWidth="3" 
                                        fill="none"
                                        strokeDasharray="10 5"
                                        className="animate-pulse"
                                    >
                                        <animate 
                                            attributeName="stroke-dashoffset" 
                                            from="0" 
                                            to="-15" 
                                            dur="1s" 
                                            repeatCount="indefinite"
                                        />
                                    </path>
                                    
                                    <text fontSize="20" fill="#f43f5e">
                                        <animateMotion 
                                            path="M 200 200 Q 400 120, 600 200" 
                                            dur="3s" 
                                            repeatCount="indefinite"
                                        />
                                        ‚ù§Ô∏è
                                    </text>
                                </svg>
                            </div>
                        </div>
                        
                        <div className="text-center">
                            <div className="flex items-center justify-center gap-4 mb-4">
                                <div className="text-pink-700 font-semibold">üìç Barat Indonesia</div>
                                <div className="flex-1 flex items-center gap-2">
                                    <div className="flex-1 h-1 bg-gradient-to-r from-pink-400 to-red-400 rounded-full"></div>
                                    <span className="text-pink-900 font-bold text-xl">~2,300 km</span>
                                    <div className="flex-1 h-1 bg-gradient-to-r from-red-400 to-pink-400 rounded-full"></div>
                                </div>
                                <div className="text-pink-700 font-semibold">üìç Timur Indonesia</div>
                            </div>
                            
                            <div className="border-t border-pink-300 pt-6 mt-6">
                                <p className="text-pink-800 text-xl italic">
                                    "Jarak hanya angka, cinta kita tak terbatas"
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderTimeline = () => {
    const images = [
        "foto1.jpeg",
        "foto2.jpeg",
        "foto3.jpeg",
        "foto4.jpeg",
        "foto5.JPG",
        "foto6.JPG",
    ];

    return (
        <div className="min-h-screen p-8 bg-gradient-to-br from-pink-200 via-pink-100 to-rose-200" style={{backgroundColor: '#FFE6EE'}}>
            <button onClick={() => setActiveSection('home')} className="text-pink-900 hover:text-pink-600 transition mb-8 font-semibold">
                ‚Üê Back
            </button>

            <div className="max-w-4xl mx-auto text-center mb-10">
                <Book className="w-16 h-16 text-pink-600 mx-auto mb-4" />
                <h2 className="text-4xl md:text-5xl font-bold text-pink-900 mb-2">
                    Album Kecil Kita üìñ
                </h2>
                <p className="text-pink-700">
                    Klik buku untuk membuka kenangan kita üíñ
                </p>
            </div>

            <div className="flex justify-center items-center" style={{perspective: '1500px', height: '600px'}}>
                <div 
                    className="relative cursor-pointer"
                    style={{
                        width: '360px',
                        height: '500px',
                        transformStyle: 'preserve-3d'
                    }}
                    onClick={nextPage}
                >

                    {/* COVER */}
                    <div 
                        className={`absolute w-full h-full top-0 left-0 bg-gradient-to-br from-pink-500 to-rose-400 text-white flex items-center justify-center rounded-lg transition-transform duration-1000`}
                        style={{
                            transformOrigin: 'left center',
                            transform: currentPage > 0 ? 'rotateY(-160deg)' : 'rotateY(0deg)',
                            zIndex: images.length + 1,
                            boxShadow: '0 3px 10px rgba(0,0,0,0.2)'
                        }}
                    >
                        <p className="text-4xl font-bold">‚ù§Ô∏è</p>
                    </div>

                    {/* PAGES */}
{images.map((img, i) => (
    <div 
        key={i}
        className="absolute w-full h-full top-0 left-0 bg-white p-4 rounded-r-2xl transition-transform duration-1000"
        style={{
            transformOrigin: 'left center',
            transform: currentPage > i+1 ? 'rotateY(-160deg)' : 'rotateY(0deg)',
            zIndex: images.length - i,
            boxShadow: '0 3px 10px rgba(0,0,0,0.15)',
            border: '1px solid #eee'
        }}
    >
        <div className="w-full h-full flex items-center justify-center">
            <img 
                src={`./${img}`}
                alt="memory"
                className="max-w-[90%] max-h-[85%] object-contain rounded-xl shadow-lg"
            />
        </div>
    </div>
))}



                </div>
            </div>

            {currentPage >= images.length && (
                <div className="text-center mt-8">
                    <button 
                        onClick={resetBook}
                        className="bg-white text-pink-500 border-2 border-pink-500 px-6 py-3 rounded-full hover:bg-pink-50 transition"
                    >
                        Baca Lagi ‚Ü∫
                    </button>
                </div>
            )}
        </div>
    );
};


            const renderMessages = () => {
                const letterContent = `Halo Naura sayang,

6 bulan bersama kamu rasanya seperti mimpi yang indah. Meskipun jarak memisahkan kita secara fisik, tapi aku merasa kamu selalu ada di hatiku.

Setiap video call, setiap chat, setiap tawa kita bareng - semua itu jadi kenangan yang selalu aku simpan. Kamu adalah alasan aku selalu semangat setiap hari.

Terima kasih udah sabar nunggu, terima kasih udah percaya sama kita. Jarak ini bukan penghalang, tapi bukti kalau cinta kita kuat.

Ini baru awal, masih banyak cerita yang akan kita tulis bareng. Aku gak sabar menjalani hari-hari selanjutnya sama kamu.

I love you, always and forever. ‚ù§Ô∏è

Dengan cinta,
Haidar`;

                return (
                    <div className="min-h-screen p-8 bg-gradient-to-br from-pink-200 via-pink-100 to-rose-200 flex items-center justify-center relative overflow-hidden" style={{backgroundColor: '#FFE6EE'}}>
                        {isEnvelopeOpen && (
                            <div id="rain-container" className="fixed inset-0 pointer-events-none z-10" style={{overflow: 'hidden'}}></div>
                        )}
                        
                        <button onClick={() => setActiveSection('home')} className="absolute top-4 left-4 text-pink-900 hover:text-pink-600 transition font-semibold z-50">
                            ‚Üê Back
                        </button>
                        
                        <div className="max-w-3xl mx-auto text-center relative z-20">
                            <MessageCircle className="w-16 h-16 text-pink-600 mx-auto mb-4" />
                            <h2 className="text-4xl md:text-5xl font-bold text-pink-900 mb-4">Love Letter</h2>
                            <p className="text-pink-700 mb-12">Klik amplop untuk membaca surat cinta dariku ‚ù§Ô∏è</p>
                            
                            <div className="relative flex flex-col items-center justify-center min-h-96">
                                {!isEnvelopeOpen ? (
                                    <button
                                        onClick={() => setIsEnvelopeOpen(true)}
                                        className="group relative transition transform hover:scale-105"
                                    >
                                        <svg width="300" height="200" viewBox="0 0 300 200" className="drop-shadow-2xl">
                                            <rect x="30" y="60" width="240" height="140" fill="#fecdd3" rx="5" />
                                            <path d="M 30 60 L 150 140 L 270 60 Z" fill="#fda4af" className="group-hover:fill-pink-300 transition" />
                                            <path d="M 30 60 L 150 140 L 270 60" stroke="#be123c" strokeWidth="2" fill="none" />
                                            <circle cx="150" cy="100" r="25" fill="#be123c" className="group-hover:animate-pulse" />
                                            <text x="150" y="110" fontSize="20" textAnchor="middle" fill="white">‚ù§Ô∏è</text>
                                        </svg>
                                        <p className="text-pink-700 mt-4 text-lg font-semibold">Click to open üíå</p>
                                    </button>
                                ) : (
                                    <div className="relative w-full flex flex-col items-center">
                                        <div className="relative mb-8 animate-envelopeFadeIn">
                                            <svg width="300" height="200" viewBox="0 0 300 200" className="drop-shadow-2xl">
                                                <rect x="30" y="60" width="240" height="140" fill="#fecdd3" rx="5" />
                                                <path d="M 30 60 L 150 10 L 270 60 Z" fill="#fda4af" className="animate-flapOpen" style={{transformOrigin: '150px 60px'}} />
                                                <path d="M 30 60 L 150 10 L 270 60" stroke="#be123c" strokeWidth="2" fill="none" />
                                            </svg>
                                            
                                            <div className="absolute top-0 left-1/2 transform -translate-x-1/2 animate-paperSlideOut" style={{width: '220px'}}>
                                                <div className="bg-white rounded-lg shadow-2xl p-4 border-2 border-pink-200">
                                                    <div className="text-pink-600 text-3xl mb-2">üíå</div>
                                                    <div className="text-gray-400 text-xs">Surat Cinta...</div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="bg-white bg-opacity-95 backdrop-blur-xl rounded-lg p-8 max-w-2xl shadow-2xl animate-letterFadeIn" style={{animationDelay: '1.5s', opacity: 0, animationFillMode: 'forwards'}}>
                                            <div className="text-pink-600 text-6xl mb-4">üíå</div>
                                            <div className="text-gray-800 text-left whitespace-pre-line leading-relaxed mb-6" style={{fontFamily: 'Georgia, serif'}}>
                                                {letterContent}
                                            </div>
                                            <button 
                                                onClick={() => setIsEnvelopeOpen(false)}
                                                className="bg-pink-500 hover:bg-pink-600 text-white px-8 py-3 rounded-full transition transform hover:scale-105"
                                            >
                                                Close Letter
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                        
                        <style>{`
                            @keyframes fadeIn {
                                from { opacity: 0; }
                                to { opacity: 1; }
                            }
                            @keyframes rainFall {
                                0% { 
                                    transform: translateY(-100px) rotate(0deg); 
                                    opacity: 0; 
                                }
                                10% { 
                                    opacity: 1; 
                                }
                                90% { 
                                    opacity: 1; 
                                }
                                100% { 
                                    transform: translateY(100vh) rotate(360deg); 
                                    opacity: 0; 
                                }
                            }
                            @keyframes flapOpen {
                                0% { 
                                    transform: rotateX(0deg); 
                                }
                                100% { 
                                    transform: rotateX(-180deg); 
                                }
                            }
                            @keyframes paperSlideOut {
                                0% {
                                    transform: translate(-50%, 40px);
                                    opacity: 0;
                                }
                                50% {
                                    opacity: 1;
                                }
                                100% {
                                    transform: translate(-50%, -180px);
                                    opacity: 0;
                                }
                            }
                            @keyframes envelopeFadeIn {
                                0% {
                                    opacity: 0;
                                    transform: scale(0.8);
                                }
                                100% {
                                    opacity: 1;
                                    transform: scale(1);
                                }
                            }
                            @keyframes letterFadeIn {
                                0% {
                                    opacity: 0;
                                    transform: translateY(30px);
                                }
                                100% {
                                    opacity: 1;
                                    transform: translateY(0);
                                }
                            }
                            .animate-fadeIn {
                                animation: fadeIn 0.5s ease-out;
                            }
                            .animate-flapOpen {
                                animation: flapOpen 0.8s ease-out forwards;
                            }
                            .animate-paperSlideOut {
                                animation: paperSlideOut 1.5s ease-out forwards;
                            }
                            .animate-envelopeFadeIn {
                                animation: envelopeFadeIn 0.5s ease-out;
                            }
                            .animate-letterFadeIn {
                                animation: letterFadeIn 1s ease-out;
                            }
                            .rain-drop-item {
                                position: absolute;
                                top: -50px;
                                animation: rainFall linear forwards;
                                pointer-events: none;
                                user-select: none;
                            }
                        `}</style>
                    </div>
                );
            };

            const renderPhotobooth = () => (
                <div className="min-h-screen p-4 md:p-8 bg-gradient-to-br from-pink-200 via-pink-100 to-rose-200" style={{backgroundColor: '#FFE6EE'}}>
                    <button onClick={() => setActiveSection('home')} className="text-pink-900 hover:text-pink-600 transition mb-8 font-semibold">
                        ‚Üê Back to Home
                    </button>
                    
                    <div className="max-w-6xl mx-auto">
                        <div className="text-center mb-8">
                            <h2 className="text-3xl md:text-5xl font-bold text-pink-900 mb-2">Photobooth Kita! üì∏</h2>
                            <p className="text-pink-700">Pilih frame, filter & stiker favoritmu dulu ya! üíï</p>
                        </div>
                        
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            {/* Left Panel - Controls */}
                            <div className="space-y-4">
                                {/* Frame Selection */}
                                <div className="bg-white bg-opacity-80 backdrop-blur-lg rounded-xl p-4 shadow-lg">
                                    <h3 className="text-pink-900 font-bold mb-3 flex items-center gap-2">
                                        üñºÔ∏è Pilih Frame
                                    </h3>
                                    <div className="grid grid-cols-2 gap-2">
                                        {Object.entries(frames).map(([key, frame]) => (
                                            <button
                                                key={key}
                                                onClick={() => setSelectedFrame(key)}
                                                className={`p-3 rounded-lg border-2 transition text-sm ${
                                                    selectedFrame === key
                                                        ? 'border-pink-500 bg-pink-100'
                                                        : 'border-gray-200 bg-white hover:border-pink-300'
                                                }`}
                                            >
                                                <div className="font-semibold">{frame.name}</div>
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* Filter Selection */}
                                <div className="bg-white bg-opacity-80 backdrop-blur-lg rounded-xl p-4 shadow-lg">
                                    <h3 className="text-pink-900 font-bold mb-3 flex items-center gap-2">
                                        üé® Pilih Filter
                                    </h3>
                                    <div className="grid grid-cols-2 gap-2">
                                        {Object.entries(filters).map(([key, name]) => (
                                            <button
                                                key={key}
                                                onClick={() => setSelectedFilter(key)}
                                                className={`p-3 rounded-lg border-2 transition text-sm ${
                                                    selectedFilter === key
                                                        ? 'border-pink-500 bg-pink-100'
                                                        : 'border-gray-200 bg-white hover:border-pink-300'
                                                }`}
                                            >
                                                <div className="font-semibold">{name}</div>
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* Sticker Selection */}
                                <div className="bg-white bg-opacity-80 backdrop-blur-lg rounded-xl p-4 shadow-lg">
                                    <h3 className="text-pink-900 font-bold mb-3 flex items-center gap-2">
                                        ‚ú® Pilih Stiker
                                    </h3>
                                    <div className="grid grid-cols-4 gap-2">
                                        {availableStickers.map((sticker) => (
                                            <button
                                                key={sticker}
                                                onClick={() => toggleSticker(sticker)}
                                                className={`p-2 text-2xl rounded-lg border-2 transition ${
                                                    selectedStickers.includes(sticker)
                                                        ? 'border-pink-500 bg-pink-100 scale-110'
                                                        : 'border-gray-200 bg-white hover:border-pink-300'
                                                }`}
                                            >
                                                {sticker}
                                            </button>
                                        ))}
                                    </div>
                                    {selectedStickers.length > 0 && (
                                        <div className="mt-2 text-xs text-pink-600 text-center">
                                            {selectedStickers.length} stiker dipilih
                                        </div>
                                    )}
                                </div>
                            </div>

                            {/* Center - Camera/Preview */}
                            <div className="lg:col-span-2 space-y-4">
                                <div className="relative bg-white rounded-xl overflow-hidden shadow-2xl" style={{aspectRatio: '4/3'}}>
                                    {/* Decorative Frame Overlay */}
                                    <div className="absolute inset-0 z-20 pointer-events-none">
                                        {selectedFrame === 'hearts' && (
                                            <div className="absolute inset-0">
                                                <div className="absolute top-4 left-4 text-3xl animate-pulse">‚ù§Ô∏è</div>
                                                <div className="absolute top-4 right-4 text-3xl animate-pulse" style={{animationDelay: '0.5s'}}>üíï</div>
                                                <div className="absolute bottom-4 left-4 text-3xl animate-pulse" style={{animationDelay: '1s'}}>üíñ</div>
                                                <div className="absolute bottom-4 right-4 text-3xl animate-pulse" style={{animationDelay: '1.5s'}}>üíù</div>
                                            </div>
                                        )}
                                        {selectedFrame === 'stars' && (
                                            <div className="absolute inset-0">
                                                <div className="absolute top-4 left-4 text-2xl animate-pulse">‚≠ê</div>
                                                <div className="absolute top-4 right-4 text-2xl animate-pulse" style={{animationDelay: '0.3s'}}>‚ú®</div>
                                                <div className="absolute bottom-4 left-4 text-2xl animate-pulse" style={{animationDelay: '0.6s'}}>‚≠ê</div>
                                                <div className="absolute bottom-4 right-4 text-2xl animate-pulse" style={{animationDelay: '0.9s'}}>‚ú®</div>
                                                <div className="absolute top-1/2 left-4 text-2xl animate-pulse" style={{animationDelay: '0.4s'}}>‚≠ê</div>
                                                <div className="absolute top-1/2 right-4 text-2xl animate-pulse" style={{animationDelay: '0.7s'}}>‚ú®</div>
                                            </div>
                                        )}
                                        {selectedFrame === 'polaroid' && (
                                            <div className="absolute inset-0 border-8 border-white" style={{boxShadow: 'inset 0 0 20px rgba(0,0,0,0.1)'}}>
                                                <div className="absolute bottom-0 left-0 right-0 h-20 bg-white flex items-center justify-center">
                                                    <span className="text-gray-400 text-lg">Our Moment üíï</span>
                                                </div>
                                            </div>
                                        )}
                                        {selectedFrame === 'rainbow' && (
                                            <div className="absolute inset-0 border-8 rounded-lg" style={{
                                                borderImage: 'linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #8b00ff) 1'
                                            }}></div>
                                        )}
                                        {selectedFrame === 'vintage' && (
                                            <div className="absolute inset-0">
                                                <div className="absolute inset-0 border-8 border-amber-900 rounded-lg" style={{
                                                    boxShadow: 'inset 0 0 30px rgba(139, 69, 19, 0.3)'
                                                }}></div>
                                                <div className="absolute top-2 left-2 right-2 bottom-2 border-2 border-amber-700 rounded-lg"></div>
                                            </div>
                                        )}
                                    </div>

                                    {/* Camera Feed - Show in preview mode or when capturing */}
                                    {(showPreview || isCapturing) && (
                                        <video 
                                            ref={videoRef}
                                            autoPlay 
                                            playsInline 
                                            className="w-full h-full object-cover"
                                            style={{
                                                transform: 'scaleX(-1)',
                                                filter: getFilterStyle()
                                            }}
                                        />
                                    )}
                                    
                                    {/* Preview Grid */}
                                    {!isCapturing && capturedImages.length === 4 && (
                                        <div className="w-full h-full grid grid-cols-2 gap-2 p-4 bg-gradient-to-br from-pink-100 to-rose-100">
                                            {capturedImages.map((img, i) => (
                                                <div key={i} className="relative rounded-lg overflow-hidden shadow-lg">
                                                    <img 
                                                        src={img} 
                                                        alt={`Pose ${i+1}`} 
                                                        className="w-full h-full object-cover"
                                                    />
                                                    <div className="absolute bottom-2 left-2 bg-white bg-opacity-80 px-2 py-1 rounded text-xs font-bold text-pink-900">
                                                        Pose {i + 1}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    )}

                                    {/* Placeholder when not capturing and no preview */}
                                    {!showPreview && !isCapturing && capturedImages.length === 0 && (
                                        <div className="w-full h-full bg-gradient-to-br from-pink-100 to-rose-100 flex flex-col items-center justify-center">
                                            <div className="text-6xl mb-4">üì∏</div>
                                            <p className="text-pink-900 font-bold text-xl mb-2">Siap Foto?</p>
                                            <p className="text-pink-700 text-center px-4">
                                                Kamera akan muncul otomatis<br/>
                                                saat kamu klik "Mulai 4 Pose!"
                                            </p>
                                        </div>
                                    )}
                                    
                                    {/* Countdown Overlay */}
                                    {countdown !== null && (
                                        <div className="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-30">
                                            <div className="relative">
                                                <div className="text-white text-9xl font-bold animate-ping absolute inset-0 flex items-center justify-center opacity-30">
                                                    {countdown}
                                                </div>
                                                <div className="text-white text-9xl font-bold relative z-10">
                                                    {countdown}
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* Capture Progress */}
                                    {capturedImages.length > 0 && capturedImages.length < 4 && isCapturing && (
                                        <div className="absolute bottom-4 left-1/2 transform -translate-x-1/2 z-30">
                                            <div className="bg-white bg-opacity-90 rounded-full px-4 py-2 shadow-lg">
                                                <div className="flex gap-2 items-center">
                                                    {[1, 2, 3, 4].map((i) => (
                                                        <div
                                                            key={i}
                                                            className={`w-3 h-3 rounded-full ${
                                                                i <= capturedImages.length
                                                                    ? 'bg-pink-500'
                                                                    : 'bg-gray-300'
                                                            }`}
                                                        />
                                                    ))}
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                                
                                {/* Thumbnail Preview */}
                                {capturedImages.length > 0 && capturedImages.length < 4 && (
                                    <div className="flex gap-2 justify-center">
                                        {capturedImages.map((img, i) => (
                                            <div key={i} className="relative">
                                                <img 
                                                    src={img} 
                                                    alt={`Preview ${i+1}`}
                                                    className="w-20 h-20 object-cover rounded-lg border-4 border-white shadow-lg"
                                                    style={{transform: 'scaleX(-1)'}}
                                                />
                                                <div className="absolute -top-2 -right-2 bg-pink-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold">
                                                    {i + 1}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                                
                                {/* Action Buttons */}
                                <div className="flex gap-3 justify-center flex-wrap">
                                    {!isCapturing && capturedImages.length === 0 && (
                                        <button 
                                            onClick={startPhotoSession}
                                            className="bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white px-8 py-4 rounded-full transition transform hover:scale-105 font-bold text-lg shadow-xl flex items-center gap-2"
                                        >
                                            <span className="text-2xl">üì∑</span>
                                            Mulai 4 Pose!
                                        </button>
                                    )}
                                    
                                    {!isCapturing && capturedImages.length === 4 && (
                                        <>
                                            <button 
                                                onClick={resetCamera}
                                                className="bg-white hover:bg-gray-100 text-pink-600 border-2 border-pink-500 px-6 py-3 rounded-full transition font-bold shadow-lg flex items-center gap-2"
                                            >
                                                <span className="text-xl">üîÑ</span>
                                                Foto Ulang
                                            </button>
                                            <button 
                                                onClick={downloadCollage}
                                                className="bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white px-8 py-3 rounded-full transition transform hover:scale-105 font-bold shadow-xl flex items-center gap-2"
                                            >
                                                <span className="text-2xl">üíæ</span>
                                                Simpan Kolase
                                            </button>
                                        </>
                                    )}
                                </div>
                                
                                {showPreview && !isCapturing && capturedImages.length === 0 && (
                                    <div className="text-center">
                                        <p className="text-pink-700 text-sm">
                                            üí° Coba ganti-ganti filter untuk lihat efeknya real-time!
                                        </p>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );

            return (
                <div className="font-sans">
                    {showPhotoboothPrompt && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-2xl p-8 max-w-md text-center shadow-2xl">
                                <div className="text-6xl mb-4">üì∏</div>
                                <h2 className="text-3xl font-bold text-pink-900 mb-4">Yuk Foto Bareng!</h2>
                                <p className="text-pink-700 mb-6">Bikin kenangan 4 pose lucu bareng yuk sayang! Pilih frame & filter dulu ya üíï</p>
                                <div className="flex gap-3 justify-center">
                                    <button 
                                        onClick={openPhotobooth}
                                        className="bg-pink-500 hover:bg-pink-600 text-white px-8 py-3 rounded-full transition transform hover:scale-105 font-bold"
                                    >
                                        Ayo! üì∑
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    <canvas ref={canvasRef} style={{display: 'none'}}></canvas>

                    {/* GLOBAL AUDIO ‚Äî SELALU ADA */}
        <audio
            ref={audioRef}
            id="bg-audio"
            src="about-you.mp3"
            loop
        />

                    {activeSection === 'home' && renderHome()}
                    {activeSection === 'distance' && renderDistance()}
                    {activeSection === 'timeline' && renderTimeline()}
                    {activeSection === 'messages' && renderMessages()}
                    {activeSection === 'photobooth' && renderPhotobooth()}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<AnniversaryWebsite />);
    </script>
</body>
</html>
